!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("dayjs/locale/fa")):"function"==typeof define&&define.amd?define(["dayjs/locale/fa"],r):(t=t||self).jalaliday=r(t.fa$1)}(this,function(t){"use strict";function r(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n=[],i=!0,a=!1,e=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!r||n.length!==r);i=!0);}catch(t){a=!0,e=t}finally{try{i||null==o.return||o.return()}finally{if(a)throw e}}return n}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t,r,n){r<=2&&(t-=1,r+=12);var i=Math.floor(t/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+n+a-1524.5}function i(t){t+=.5;var r=Math.floor(t),n=t-r,i=r;if(r>=2299161){var a=Math.floor((r-1867216.25)/36524.25);i=r+1+a-Math.floor(a/4)}var e=i+1524,s=Math.floor((e-122.1)/365.25),o=Math.floor(365.25*s),h=Math.floor((e-o)/30.6001),f=h<14?h-1:h-13;return function(t,r,n){var i=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,31,31,31,31,31,30,30,30,30,30,29];function e(t,r){return Math.floor(t/r)}for(var s=t-1600,o=r-1,h=n-1,f=365*s+e(s+3,4)-e(s+99,100)+e(s+399,400),u=0;u<o;++u)f+=i[u];o>1&&(t%4==0&&t%100!=0||t%400==0)&&f++;var d=(f+=h)-79,c=979+33*e(d,12053)+4*e(d%=12053,1461);(d%=1461)>=366&&(c+=e(d-1,365),d=(d-1)%365);for(var l=0;l<11&&d>=a[l];++l)d-=a[l];return[c,l+1,d+1]}(f>2?s-4716:s-4715,f,e-o-Math.floor(30.6001*h)+n)}t=t&&t.hasOwnProperty("default")?t.default:t;var a=function(t,r,a){return i(n(t,r,a))},e=function(t,r,i){return function(t){t+=.5;var r=Math.floor(t),n=t-r,i=r;if(r>=2299161){var a=Math.floor((r-1867216.25)/36524.25);i=r+1+a-Math.floor(a/4)}var e=i+1524,s=Math.floor((e-122.1)/365.25),o=Math.floor(365.25*s),h=Math.floor((e-o)/30.6001),f=e-o-Math.floor(30.6001*h)+n,u=h<14?h-1:h-13,d=u>2?s-4716:s-4715;return[Math.floor(d),Math.floor(u),Math.floor(f)]}(function(t,r,i){var a=[31,28,31,30,31,30,31,31,30,31,30,31],e=[31,31,31,31,31,31,30,30,30,30,30,29];function s(t,r){return Math.floor(t/r)}for(var o=365*(t-=979)+8*s(t,33)+s(t%33+3,4),h=0;h<r-1;++h)o+=e[h];var f=(o+=i-1)+79,u=1600+400*s(f,146097),d=!0;for((f%=146097)>=36525&&(u+=100*s(--f,36524),(f%=36524)>=365?f++:d=!1),u+=4*s(f,1461),(f%=1461)>=366&&(d=!1,u+=s(--f,365),f%=365),h=0;f>=a[h]+(1==h&&d);h++)f-=a[h]+(1==h&&d);return n(u,h+1,f+1)}(t,r,i))},s=/^(\d{4})[-/]?(\d{1,2})[-/]?(\d{0,2})(.*)?$/,o=/\[.*?\]|jY{2,4}|jM{1,4}|jD{1,2}|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h="day",f="month",u="year",d="week",c={jmonths:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_")};return function(n,i,l){var $=i.prototype,M=$.$utils(),v=function(t){return"jalali"===t.$C},j=M.prettyUnit||M.p,y=M.isUndefined||M.u,b=M.padStart||M.s,D=M.monthDiff||M.m,p=M.absFloor||M.a,m=function(t){return function(){var r=t.bind(this).apply(void 0,arguments);return r.$C=this.$C,r.isJalali()&&r.InitJalali(),r}};$.startOf=m($.startOf),$.endOf=m($.endOf),$.add=m($.add),$.subtract=m($.subtract),$.set=m($.set);var _=$.parse,g=$.init,O=$.startOf,w=$.$set,I=$.add,Y=$.format,C=$.diff,S=$.year,x=$.month,J=$.date,A=$.daysInMonth,k=$.toArray;l.$C="gregory",l.$fdow=6,l.calendar=function(t){return l.$C=t,l},$.calendar=function(t){var r=this.clone();return r.$C=t,r.isJalali()&&r.InitJalali(),r},$.isJalali=function(){return v(this)},l.en.jmonths="Farvardin_Ordibehesht_Khordaad_Tir_Mordaad_Shahrivar_Mehr_Aabaan_Aazar_Dey_Bahman_Esfand".split("_"),l.locale("fa",Object.assign({},t,{},c),!0);var H=function(t,r){return l(t,{locale:r.$L,utc:r.$u,calendar:r.$C})};$.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.bind(this)(t),this.isJalali()&&this.InitJalali()},$.parse=function(t){var n;if(this.$C=t.calendar||this.$C||l.$C,t.jalali&&"string"==typeof t.date&&/.*[^Z]$/i.test(t.date)&&(n=t.date.match(s))){var i=r(e(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||1,10)),3),a=i[0],o=i[1],h=i[2];t.date="".concat(a,"-").concat(o,"-").concat(h).concat(n[4]||"")}return _.bind(this)(t)},$.InitJalali=function(){var t=r(a(this.$y,this.$M+1,this.$D),3),n=t[0],i=t[1],e=t[2];this.$jy=n,this.$jM=i-1,this.$jD=e},$.startOf=function(t,n){var i=this;if(!v(this))return O.bind(this)(t,n);var a=!!y(n)||n,s=j(t),o=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.$jy,o=r(e(s,n+1,t),3),f=o[0],u=o[1],d=o[2],c=H(new Date(f,u-1,d),i);return(a?c:c.endOf(h)).$set("hour",1)},c=(this.$W+(7-l.$fdow))%7;switch(s){case u:return a?o(1,0):o(0,0,this.$jy+1);case f:return a?o(1,this.$jM):o(0,(this.$jM+1)%12,this.$jy+parseInt((this.$jM+1)/12,10));case d:return o(a?this.$jD-c:this.$jD+(6-c),this.$jM);default:return O.bind(this)(t,n)}},$.$set=function(t,n){var i=this;if(!v(this))return w.bind(this)(t,n);var a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.$jy,s=r(e(a,n+1,t),3),o=s[0],h=s[1],f=s[2];return i.$d.setFullYear(o),i.$d.setMonth(h-1),i.$d.setDate(f),i};switch(j(t)){case"date":case h:a(n,this.$jM);break;case f:a(this.$jD,n);break;case u:a(this.$jD,this.$jM,n);break;default:return w.bind(this)(t,n)}return this.init(),this},$.add=function(t,r){var n=this;if(!v(this))return I.bind(this)(t,r);t=Number(t);var i=!r||1!==r.length&&"ms"!==r?j(r):r;if(["M",f].indexOf(i)>-1){var a=this.$jM+t,e=a<0?-Math.ceil(-a/12):Math.floor(a/12),s=this.$jD,o=this.set(h,1).add(e,u).set(f,a-12*e);return o.set(h,Math.min(o.daysInMonth(),s))}if(["y",u].indexOf(i)>-1)return function(r,i){var a=n.set("date",1).set(r,i+t);return a.set("date",Math.min(n.$jD,a.daysInMonth()))}(u,this.$jy);if(["d",h].indexOf(i)>-1){var c=new Date(this.$d);return c.setDate(c.getDate()+t),H(c,this)}if(["w",d].indexOf(i)>-1){var l=new Date(this.$d);return l.setDate(l.getDate()+7*t),H(l,this)}return I.bind(this)(t,r)},$.format=function(t,r){var n=this;if(!v(this))return Y.bind(this)(t,r);var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=(r||this.$locale()).jmonths;return i.replace(o,function(t){if(t.indexOf("[")>-1)return t.replace(/\[|\]/g,"");switch(t){case"YY":return String(n.$jy).slice(-2);case"YYYY":return String(n.$jy);case"M":return String(n.$jM+1);case"MM":return b(n.$jM+1,2,"0");case"MMM":return a[n.$jM].slice(0,3);case"MMMM":return a[n.$jM];case"D":return String(n.$jD);case"DD":return b(n.$jD,2,"0");default:return Y.bind(n)(t,r)}})},$.diff=function(t,r,n){if(!v(this))return C.bind(this)(t,r,n);var i=j(r),a=l(t),e=D(this,a);switch(i){case u:e/=12;break;case f:break;default:return C.bind(this)(t,r,n)}return n?e:p(e)},$.$g=function(t,r,n){return y(t)?this[r]:this.set(n,t)},$.year=function(t){return v(this)?this.$g(t,"$jy",u):S.bind(this)(t)},$.month=function(t){return v(this)?this.$g(t,"$jM",f):x.bind(this)(t)},$.date=function(t){return v(this)?this.$g(t,"$jD",h):J.bind(this)(t)},$.daysInMonth=function(){return v(this)?this.endOf(f).$jD:A.bind(this)()},k&&($.toArray=function(){return v(this)?[this.$jy,this.$jM,this.$jD,this.$H,this.$m,this.$s,this.$ms]:k.bind(this)()}),$.clone=function(){return H(this.toDate(),this)}}});
